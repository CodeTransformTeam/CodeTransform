<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Test.html</title>
</head>
<body>
	<div class="code" style="background-color:#E7E5DC">
		<ol start="1" style="margin:0 0 1px 45px !important;">
			<li>
				<span style="color:#7f0055">package</span><span style="color:#000000"> CodeTransform;

				</span>
			</li>
			<li>
				<span style="color:#7f0055">import</span><span style="color:#000000"> java.io.File;
				</span>
			</li>
			<li>
				<span style="color:#7f0055">import</span><span style="color:#000000"> java.io.FileOutputStream;
				</span>
			</li>
			<li>
				<span style="color:#7f0055">import</span><span style="color:#000000"> java.util.ArrayList;

				</span>
			</li>
			<li>
				<span style="color:#7f0055">public</span><span style="color:#000000"> </span><span style="color:#7f0055">class</span><span style="color:#000000"> HTMLWriter {

					</span>
			</li>
			<li>
				<span style="color:#7f0055">private</span><span style="color:#000000"> CodeParser parser_;

					</span>
			</li>
			<li>
				<span style="color:#7f0055">public</span><span style="color:#000000"> HTMLWriter(CodeParser parser) {
						</span>
			</li>
			<li>
				<span style="color:#000000">parser_ = parser;
					</span>
			</li>
			<li>
				<span style="color:#000000">}

					</span>
			</li>
			<li>
				<span style="color:#7f0055">void</span><span style="color:#000000"> write(File file) {
						</span>
			</li>
			<li>
				<span style="color:#7f0055">try</span><span style="color:#000000"> {
							</span>
			</li>
			<li>
				<span style="color:#7f0055">if</span><span style="color:#000000"> (file.exists() == false) {
								</span>
			</li>
			<li>
				<span style="color:#000000">file.createNewFile();
							</span>
			</li>
			<li>
				<span style="color:#000000">}

							</span>
			</li>
			<li>
				<span style="color:#000000">FileOutputStream fileOutputStream = </span><span style="color:#7f0055">new</span><span style="color:#000000"> FileOutputStream(file);
							</span>
			</li>
			<li>
				<span style="color:#000000">writeHeader(fileOutputStream, file.getName());
							</span>
			</li>
			<li>
				<span style="color:#000000">writeBody(fileOutputStream);
							</span>
			</li>
			<li>
				<span style="color:#000000">writeFooter(fileOutputStream);
							</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream.close();
						</span>
			</li>
			<li>
				<span style="color:#000000">} </span><span style="color:#7f0055">catch</span><span style="color:#000000"> (Exception e) {
							</span>
			</li>
			<li>
				<span style="color:#000000">e.printStackTrace();
						</span>
			</li>
			<li>
				<span style="color:#000000">}

					</span>
			</li>
			<li>
				<span style="color:#000000">}

					</span>
			</li>
			<li>
				<span style="color:#7f0055">private</span><span style="color:#000000"> </span><span style="color:#7f0055">void</span><span style="color:#000000"> writeFooter(FileOutputStream fileOutputStream) {
						</span>
			</li>
			<li>
				<span style="color:#000000">String footerString = </span><span style="color:#0000c0">"</body>\r\n</html>"</span><span style="color:#000000">;
						</span>
			</li>
			<li>
				<span style="color:#7f0055">try</span><span style="color:#000000"> {
							</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream.write(footerString.getBytes());
						</span>
			</li>
			<li>
				<span style="color:#000000">} </span><span style="color:#7f0055">catch</span><span style="color:#000000"> (Exception e) {
							</span>
			</li>
			<li>
				<span style="color:#000000">e.printStackTrace();
						</span>
			</li>
			<li>
				<span style="color:#000000">}
					</span>
			</li>
			<li>
				<span style="color:#000000">}

					</span>
			</li>
			<li>
				<span style="color:#7f0055">private</span><span style="color:#000000"> String replaceEscapeChars(String src) {
						</span>
			</li>
			<li>
				<span style="color:#7f0055">return</span><span style="color:#000000"> src;
					</span>
			</li>
			<li>
				<span style="color:#000000">}

					</span>
			</li>
			<li>
				<span style="color:#7f0055">private</span><span style="color:#000000"> </span><span style="color:#7f0055">void</span><span style="color:#000000"> writeBody(FileOutputStream fileOutputStream) {
						</span>
			</li>
			<li>
				<span style="color:#000000">ArrayList<ParsedCode> parsedCodes = parser_.getParserResult();
						</span>
			</li>
			<li>
				<span style="color:#7f0055">try</span><span style="color:#000000"> {
							</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream
									</span>
			</li>
			<li>
				<span style="color:#000000">.write(</span><span style="color:#0000c0">divlass=\"code\"tyle=\"background-color:#E7E5DC\">\r\n"
							getBytes());
			ileOutputStream
					"write("</span><span style="color:#000000">		<ol start=\</span><span style="color:#0000c0">1\"tyle=\"margin:0px5pximportant;\">\r\n"
							getBytes());

			orint;arsedCodes.size();++)
				arsedCodearsedCodearsedCodes.get(i);
				"ileOutputStream.write("</span><span style="color:#000000">			<li>\r\n</span><span style="color:#0000c0">.getBytes());
				tringolorStringolorConverter
						Color2String(parsedCode.codeColor_);
				tringpanString			spantyle=\"color:"olorString
						\">";
				ileOutputStream.write(spanString.getBytes());
				o
					tringodeStringarsedCode.codeString_;
					odeStringeplaceEscapeChars(codeString);
					ileOutputStream.write(codeString.getBytes());

					f"codeString.indexOf("</span><span style="color:#000000">\n</span><span style="color:#0000c0">))
						reak;
					

					fiarsedCodes.size())
						arsedCodeextCodearsedCodes.get(i);
						fnextCode.codeColor_.equals(parsedCode.codeColor_)=alse
								&extCode.codeString_.indexOf('\n'))
							/￩ﾢﾜ￨ﾉﾲ￤ﾸﾍ￤ﾸﾀ￦ﾠﾷ￯ﾼﾌ￥ﾏﾈ￤ﾸﾍ￦ﾘﾯ￥ﾛﾞ￨ﾽﾦ
											</span>
			</li>
			<li>
				<span style="color:#0000c0">olorStringolorConverter
									Color2String(nextCode.codeColor_);
							panString</span><spantyle=\"color:"
									olorString\">";
							ileOutputStream.write(spanString.getBytes());

							arsedCodeextCode;
							+i;
						lsefnextCode.codeColor_
								equals(parsedCode.codeColor_))
							arsedCodeextCode;
							+i;
						lse
							arsedCodeextCode;
							+i;
						
					
				hileiarsedCodes.size());
				panString			"/span>\r\n"</span><span style="color:#000000">;
								</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream.write(spanString.getBytes());

								</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream.write(</span><span style="color:#0000c0">		"/li>\r\n"</span><span style="color:#000000">.getBytes());
							</span>
			</li>
			<li>
				<span style="color:#000000">}

							</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream.write(</span><span style="color:#0000c0">	"/ol>\r\n"</span><span style="color:#000000">.getBytes());
							</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream.write(</span><span style="color:#0000c0">"/div>\r\n"</span><span style="color:#000000">.getBytes());
						</span>
			</li>
			<li>
				<span style="color:#000000">} </span><span style="color:#7f0055">catch</span><span style="color:#000000"> (Exception e) {
							</span>
			</li>
			<li>
				<span style="color:#3f7f5f">// TODO Auto-generated catch block
							</span>
			</li>
			<li>
				<span style="color:#000000">e.printStackTrace();
						</span>
			</li>
			<li>
				<span style="color:#000000">}
					</span>
			</li>
			<li>
				<span style="color:#000000">}

					</span>
			</li>
			<li>
				<span style="color:#7f0055">private</span><span style="color:#000000"> </span><span style="color:#7f0055">void</span><span style="color:#000000"> writeHeader(FileOutputStream fileOutputStream, String title) {
						</span>
			</li>
			<li>
				<span style="color:#000000">String headerString = </span><span style="color:#0000c0"><!DOCTYPEtmlUBLIC"-//W3C//DTDTML.01ransitional//EN\"
				\"http://www.w3.org/TR/html4/loose.dtd\">\r\n"
				"<html>\r\n"
								</span>
			</li>
			<li>
				<span style="color:#000000">+ </span><span style="color:#0000c0">"<head>\r\n"
								</span>
			</li>
			<li>
				<span style="color:#000000">+ </span><span style="color:#0000c0"><metattp-equiv=\"Content-Type\"ontent=\"text/html;harset=UTF-8\">\r\n"
				"<title>"
								</span>
			</li>
			<li>
				<span style="color:#000000">+ title
								</span>
			</li>
			<li>
				<span style="color:#000000">+ </span><span style="color:#0000c0">"</title>\r\n"
								</span>
			</li>
			<li>
				<span style="color:#000000">+ </span><span style="color:#0000c0">"</head>\r\n"
								</span>
			</li>
			<li>
				<span style="color:#000000">+ </span><span style="color:#0000c0">"<body>\r\n"</span><span style="color:#000000">;
						</span>
			</li>
			<li>
				<span style="color:#7f0055">try</span><span style="color:#000000"> {
							</span>
			</li>
			<li>
				<span style="color:#000000">fileOutputStream.write(headerString.getBytes());
							</span>
			</li>
			<li>
				<span style="color:#000000">System.out.println(</span><span style="color:#0000c0">"HTMLWriter.writeHeader()"</span><span style="color:#000000">);
						</span>
			</li>
			<li>
				<span style="color:#000000">} </span><span style="color:#7f0055">catch</span><span style="color:#000000"> (Exception e) {
							</span>
			</li>
			<li>
				<span style="color:#000000">e.printStackTrace();
						</span>
			</li>
			<li>
				<span style="color:#000000">}
					</span>
			</li>
			<li>
				<span style="color:#000000">}

					</span>
			</li>
			<li>
				<span style="color:#0000c0">/**
	 				</span>
			</li>
			<li>
				<span style="color:#0000c0">* @param args
	 				</span>
			</li>
			<li>
				<span style="color:#0000c0">*/
					</span>
			</li>
			<li>
				<span style="color:#7f0055">public</span><span style="color:#000000"> </span><span style="color:#7f0055">static</span><span style="color:#000000"> </span><span style="color:#7f0055">void</span><span style="color:#000000"> main(String[] args) {
						</span>
			</li>
			<li>
				<span style="color:#000000">JavaParser parser = </span><span style="color:#7f0055">new</span><span style="color:#000000"> JavaParser();
						</span>
			</li>
			<li>
				<span style="color:#000000">parser.init(new File(</span><span style="color:#0000c0">"src/CodeTransform/HTMLWriter.java"</span><span style="color:#000000">));
						</span>
			</li>
			<li>
				<span style="color:#000000">parser.parse();

						</span>
			</li>
			<li>
				<span style="color:#000000">HTMLWriter writer = </span><span style="color:#7f0055">new</span><span style="color:#000000"> HTMLWriter(parser);
						</span>
			</li>
			<li>
				<span style="color:#000000">writer.write(new File(</span><span style="color:#0000c0">"Test.html"</span><span style="color:#000000">));

					</span>
			</li>
			<li>
				<span style="color:#000000">}

				</span>
			</li>
			<li>
				<span style="color:#000000">}
				</span>
			</li>
		</ol>
	</div>
</body>
</html>